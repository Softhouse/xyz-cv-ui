<div class="row">
    <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 col-sm-12">
        <div class="panel panel-default" ng-show="vm.activated">
            <div class="parameter-window">
                <div class="form-group">
                    <tags-input class="tagField" ng-model="vm.tagList" placeholder="Search keywords" replace-spaces-with-dashes="false" min-length="0" on-tag-added="vm.doAdvancedSearch()" on-tag-removed="vm.doAdvancedSearch()">
                        <auto-complete source="vm.getSuggestedTags($query)" min-length="1" max-results="10"></auto-complete>
                    </tags-input>
                    <div class="refinedParameters" ng-show="vm.refinedIsShown">
                        <br><br>
                        <label>Roles: </label>
                        <button type="button" class="btn btn-default" ng-model="vm.refinedRoles" ng-change="vm.doAdvancedSearch()" data-html="1" data-multiple="1" all-none-buttons="1" icon-checkmark="fa fa-check" data-animation="am-flip-x" bs-options="role.name for role in vm.suggestedRoles" placeholder="Select roles..." ng-change="vm.doAdvancedSearch()" bs-select>
                        </button>
                        <br><br>

                        <label>Offices: </label>
                        <button type="button" class="btn btn-default" ng-model="vm.refinedOffices" ng-change="vm.doAdvancedSearch()" data-html="1" data-multiple="1" all-none-buttons="1" icon-checkmark="fa fa-check" data-animation="am-flip-x" bs-options="office.name for office in vm.suggestedOffices" placeholder="Select offices..." ng-change="vm.doAdvancedSearch()" bs-select>
                        </button>
                        <br><br>

                        <label>Assignments: </label>
                        <button type="button" class="btn btn-default" ng-model="vm.refinedAssignments" ng-change="vm.doAdvancedSearch()" data-html="1" data-multiple="1" all-none-buttons="1" icon-checkmark="fa fa-check" data-animation="am-flip-x" bs-options="assignment.name for assignment in vm.suggestedAssignments" placeholder="Select assignments..." ng-change="vm.doAdvancedSearch()" bs-select>
                        </button>
                        <br><br>

                        <label>Skills: </label>
                        <div class="skillFilters" ng-repeat="row in vm.refinedSkills">
                            <input type="text" id="skillName" ng-model="row.name" placeholder="skill" bs-options="skill.name as skill.name for skill in vm.suggestedSkills" ng-change="vm.doAdvancedSearch()" ng-model-options="{debounce:1000}" bs-typeahead>
                            <input type="number" id="skillLevel1" ng-model="row.level" placeholder="level" ng-change="vm.doAdvancedSearch()" ng-model-options="{debounce:1000}">
                            <input type="number" id="skillYears1" ng-model="row.years" placeholder="years" ng-change="vm.doAdvancedSearch()" ng-model-options="{debounce:1000}">
                        </div>
                        <br>
                        <button type="button" class="btn btn-success btn-number" ng-click="vm.addFilterRow()">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                        <button type="button" class="btn btn-danger btn-number" ng-click="vm.removeFilterRow()">
                            <span class="glyphicon glyphicon-minus"></span>
                        </button>
                    </div>
                    <br>
                    <button class="btn btn-default" ng-click="vm.doAdvancedSearch()">Search</button>
                    <button class="btn btn-default" ng-click="vm.toggleRefined()">{{ vm.buttonTextRefined }}</button>
                    <button class="btn btn-default" ng-click="vm.clearAll()">Clear options</button>
                </div>
            </div>
            <div class="search-results-window">
                <div ng-show="vm.result.length > 0">
                    <ul class="list-group advanced-search-list">
                        <li class="list-group-item" dir-paginate="person in vm.result | orderBy:'name' | itemsPerPage:10">
                            <div class="profile-image">
                                <i class="fa fa-user" ng-hide="person.profileImage"></i>
                                <img ng-if="person.profileImage" ng-src="{{ vm.API_URL }}/file/thumbnail/{{ person.profileImage.generatedName }}">
                            </div>
                            <div class="content">
                                <a ng-href="{{ vm.baseUrl }}{{ person._id }}">{{ person.name }}</a>
                            </div>
                        </li>
                    </ul>

                    <div class="search-result-paginate-container" ng-if="vm.result.length > 10">
                        <dir-pagination-controls></dir-pagination-controls>
                    </div>
                </div>
                <div ng-show="vm.result.length <= 0">
                No matches were found for your selected combination of parameters and tags.
                </div>
            </div>
        </div>
    </div>
</div>
